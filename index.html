<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>æ—¥æœ¬å­£ï½œæ‰­è›‹æŠ½ç</title>
  <style>
    :root{
      --bg:#fbf3e6;
      --card:#ffffff;
      --ink:#3f3a36;
      --muted:#6b5f56;
      --red:#d94848;
      --gold:#fbbf24;
      --shadow: 0 18px 60px rgba(0,0,0,.16);
      font-family: system-ui, -apple-system, "Noto Sans TC", "PingFang TC", "Microsoft JhengHei", sans-serif;
    }
    body{
      margin:0;
      min-height:100vh;
      background: radial-gradient(900px 600px at 20% 10%, rgba(217,72,72,.10), transparent 60%),
                  radial-gradient(900px 600px at 80% 20%, rgba(251,191,36,.10), transparent 55%),
                  var(--bg);
      display:grid;
      place-items:center;
      padding:18px;
      color:var(--ink);
    }
    .wrap{ width:min(720px, 96vw); }
    .header{
      display:flex;
      gap:14px;
      align-items:center;
      justify-content:space-between;
      margin-bottom:12px;
    }
    .logo{
      display:flex; align-items:center; gap:10px;
    }
    .logo img{
      height:48px; width:auto; display:block;
    }
    .titlebox{ line-height:1.2; }
    .title{
      font-weight:1000; letter-spacing:.5px;
      margin:0; font-size:22px; color:#7a2f2f;
    }
    .subtitle{
      margin:6px 0 0; font-size:13px; color:var(--muted);
    }
    .badge{
      font-size:12px; font-weight:900;
      padding:8px 12px;
      border-radius:999px;
      background: linear-gradient(90deg, var(--gold), #fde68a);
      color:#111;
      white-space:nowrap;
      box-shadow: 0 10px 24px rgba(251,191,36,.18);
    }

    .grid{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:14px;
    }
    @media (max-width: 820px){
      .grid{ grid-template-columns: 1fr; }
      .badge{ display:none; }
    }

    .card{
      background:var(--card);
      border-radius:18px;
      box-shadow: var(--shadow);
      overflow:hidden;
      border:1px solid rgba(0,0,0,.06);
    }

    /* å·¦å´ï¼šæ‰­è›‹äº’å‹• */
    .stage{
      padding:14px;
      background: linear-gradient(180deg, rgba(251,243,230,.5), rgba(255,255,255,1));
    }
    .machineWrap{
      position:relative;
      display:grid;
      place-items:center;
      padding:10px;
    }
    .machineImg{
      width:min(360px, 86%);
      height:auto;
      user-select:none;
      -webkit-user-drag:none;
      filter: drop-shadow(0 18px 24px rgba(0,0,0,.16));
      transform-origin: 50% 70%;
    }

    .tapBtn{
      position:absolute;
      left: 8%;
      bottom: 26%;
      transform: translate(-10%, 0);
      border:0;
      cursor:pointer;
      font-weight:1000;
      letter-spacing:.5px;
      padding:10px 14px;
      border-radius:999px;
      background: #fff;
      color: var(--red);
      box-shadow: 0 10px 24px rgba(0,0,0,.18);
      border: 2px solid rgba(217,72,72,.18);
    }
    .tapBtn:disabled{
      opacity:.55;
      cursor:not-allowed;
    }

    .hint{
      margin-top:10px;
      text-align:center;
      color:var(--muted);
      font-size:12px;
      line-height:1.6;
    }

    .result{
      margin-top:12px;
      border-radius:16px;
      background: #fff;
      border:2px dashed rgba(251,191,36,.8);
      padding:12px 14px;
      display:none;
    }
    .tier{
      display:inline-flex;
      align-items:center;
      gap:8px;
      font-size:12px;
      font-weight:1000;
      color:#7a2f2f;
      background: rgba(251,191,36,.16);
      border:1px solid rgba(251,191,36,.28);
      padding:6px 10px;
      border-radius:999px;
    }
    .prize{
      margin:10px 0 0;
      font-size:20px;
      font-weight:1000;
    }
    .note{
      margin:6px 0 0;
      font-size:13px;
      color:var(--muted);
      line-height:1.6;
    }
    .meta{
      margin-top:10px;
      font-size:12px;
      color:#8b8179;
      display:flex;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }
    .actions{
      margin-top:12px;
      display:flex;
      gap:10px;
    }
    .btn{
      flex:1;
      border:0;
      border-radius:14px;
      padding:12px 14px;
      font-weight:1000;
      cursor:pointer;
    }
    .btnReset{ background:#e5e7eb; }
    .btnFullscreen{
      background:#111827;
      color:#fff;
    }

    /* å³å´ï¼šçé …èªªæ˜ */
    .side{
      padding:14px;
    }
    .side h3{
      margin:0 0 10px;
      font-size:16px;
      font-weight:1000;
    }
    .list{
      margin:0;
      padding:0;
      list-style:none;
      display:grid;
      gap:10px;
    }
    .item{
      padding:10px 12px;
      border-radius:14px;
      background: rgba(0,0,0,.03);
      border:1px solid rgba(0,0,0,.06);
      display:flex;
      justify-content:space-between;
      gap:10px;
      align-items:flex-start;
    }
    .item b{ font-weight:1000; }
    .pct{ color:#7a2f2f; font-weight:900; white-space:nowrap; }
    .rule{
      margin-top:12px;
      font-size:12px;
      color:var(--muted);
      line-height:1.7;
      background: rgba(217,72,72,.06);
      border:1px solid rgba(217,72,72,.12);
      padding:10px 12px;
      border-radius:14px;
    }

    /* å‹•ç•« */
    @keyframes wiggle {
      0% { transform: rotate(0deg) scale(1); }
      20% { transform: rotate(-2deg) scale(1.01); }
      40% { transform: rotate(2deg) scale(1.01); }
      60% { transform: rotate(-2deg) scale(1.01); }
      80% { transform: rotate(2deg) scale(1.01); }
      100% { transform: rotate(0deg) scale(1); }
    }
    .wiggle{ animation: wiggle 650ms ease-in-out; }

    @keyframes pop {
      0% { transform: translateY(6px); opacity:0; }
      100% { transform: translateY(0); opacity:1; }
    }
    .pop{ animation: pop 240ms ease-out; }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="header">
      <div class="logo">
        <!-- å¦‚æœä½ æœ‰logo.pngå°±æœƒé¡¯ç¤ºï¼›æ²’æœ‰ä¹Ÿä¸å½±éŸ¿ -->
        <img src="logo.png" alt="LOGO" onerror="this.style.display='none'">
        <div class="titlebox">
          <h1 class="title">æ—¥æœ¬å­£ï½œæ‰­è›‹æŠ½ç</h1>
          <p class="subtitle">çµå¸³ç•¶ä¸‹ç”±åº—å…§è¨­å‚™æ“ä½œï½œæ¯æ¡Œé™ä¸€æ¬¡ï½œçµæœä»¥æ«ƒæª¯ç¢ºèªç‚ºæº–</p>
        </div>
      </div>
      <div class="badge">åº—å…§é™å®š</div>
    </div>

    <div class="grid">
      <!-- å·¦ï¼šæŠ½çäº’å‹• -->
      <div class="card">
        <div class="stage">
          <div class="machineWrap">
            <img class="machineImg" id="machineImg" src="machine.jpg" alt="æ‰­è›‹æ©Ÿ">

            <button class="tapBtn" id="tapBtn">TAPï¼æŠ½ç</button>
          </div>

          <div class="hint">
            æç¤ºï¼šæŒ‰ä¸‹æŠ½çå¾Œè«‹äº¤ç”±æ«ƒæª¯ç¢ºèªã€‚<br>
            è‹¥ç‚ºã€Œä¸‹æ¬¡ä½¿ç”¨ã€çé …ï¼Œè«‹ä¾æ´»å‹•è¦å‰‡èˆ‡æœŸé™ä½¿ç”¨ã€‚
          </div>

          <div class="result" id="resultBox">
            <span class="tier" id="tierTag">çµæœ</span>
            <div class="prize" id="prizeText">â€”</div>
            <div class="note" id="prizeNote"></div>
            <div class="meta">
              <div>æ™‚é–“ï¼š<span id="timeText">â€”</span></div>
              <div>æœ¬é ï¼š<span id="deviceText">åº—å…§è¨­å‚™</span></div>
            </div>

            <div class="actions">
              <button class="btn btnReset" id="resetBtn">é‡ç½®</button>
              <button class="btn btnFullscreen" id="fsBtn">å…¨è¢å¹•</button>
            </div>
          </div>
        </div>
      </div>

      <!-- å³ï¼šçé …æ¸…å–® -->
      <div class="card">
        <div class="side">
          <h3>çé …èˆ‡æ©Ÿç‡</h3>
          <ul class="list">
            <li class="item"><div><b>ğŸ’ å–®äººå…è²»ç”¨é¤</b><div style="font-size:12px;color:#6b5f56;">æœ€ç¨€æœ‰å¤§ç</div></div><div class="pct">0.5%</div></li>
            <li class="item"><div><b>ğŸ« æ•´çµ„å…æœå‹™è²»</b></div><div class="pct">10%</div></li>
            <li class="item"><div><b>ğŸ æ‹›å¾…åˆ¸100å…ƒ</b><div style="font-size:12px;color:#6b5f56;">ä¸‹æ¬¡ä½¿ç”¨</div></div><div class="pct">10%</div></li>
            <li class="item"><div><b>ğŸ¥© A5å’Œç‰›ï¼ˆé™é‡ï¼‰</b><div style="font-size:12px;color:#6b5f56;">çè²´çå“</div></div><div class="pct">5%</div></li>
            <li class="item"><div><b>ğŸ‚ å£½æ˜Ÿæ‹›å¾…ç¦®</b><div style="font-size:12px;color:#6b5f56;">ä¸­ç­‰çå“</div></div><div class="pct">20%</div></li>
            <li class="item"><div><b>ğŸ›ï¸ ç’°ä¿è¢‹</b><div style="font-size:12px;color:#6b5f56;">åŸºæœ¬çå“</div></div><div class="pct">54.5%</div></li>
          </ul>

          <div class="rule">
            <b>æ´»å‹•è¦å‰‡ï¼ˆå¯æ”¹ï¼‰</b><br>
            1) æ¯æ¡Œé™æŠ½ä¸€æ¬¡ï¼ˆçµå¸³ç•¶ä¸‹ï¼‰ã€‚<br>
            2) ä¸‹æ¬¡ä½¿ç”¨çé …ï¼šè«‹æ–¼æ—¥æœ¬å­£æœŸé–“ä½¿ç”¨ï¼Œä¸å¯ä½µç”¨å…¶ä»–å„ªæƒ ã€‚<br>
            3) ä»¥æ«ƒæª¯ç¾å ´åˆ¤å®šèˆ‡å…Œæ›ç‚ºæº–ã€‚
          </div>
        </div>
      </div>
    </div>
  </div>

<script>
  // âœ… ä½ çµ¦çš„æ©Ÿç‡ï¼ˆç¸½å’Œ = 100%ï¼‰
  // é€™è£¡ç”¨ã€Œæ¬Šé‡ã€åšæŠ½çï¼šweight å°±æ˜¯ç™¾åˆ†æ¯”æ•¸å­—
  const prizes = [
    { tier: "Aè³", name: "ğŸ’ å–®äººå…è²»ç”¨é¤", note: "æœ€ç¨€æœ‰å¤§çã€‚è«‹ä¾åº—å…§è¦å‰‡è¾¦ç†ï¼ˆå»ºè­°è¨­ç‚ºä¸‹æ¬¡ä½¿ç”¨æ›´ä¿æ¯›åˆ©ï¼‰ã€‚", weight: 0.5 },
    { tier: "Bè³", name: "ğŸ« æ•´çµ„å…æœå‹™è²»", note: "æœ¬æ¬¡æ¶ˆè²»å…æ”¶æœå‹™è²»ï¼ˆä¾ç¾å ´è¦å‰‡ï¼‰ã€‚", weight: 10 },
    { tier: "Cè³", name: "ğŸ æ‹›å¾…åˆ¸100å…ƒ", note: "ä¸‹æ¬¡ä½¿ç”¨ã€‚é™æ—¥æœ¬å­£æœŸé–“ï¼Œä¸å¯ä½µç”¨å…¶ä»–å„ªæƒ ã€‚", weight: 10 },
    { tier: "Bè³", name: "ğŸ¥© A5å’Œç‰›ï¼ˆé™é‡ï¼‰", note: "ç¾å ´å…Œæ›ï¼ˆè‹¥ç•¶æ—¥å”®ç½„å¯æ”¹æä¾›ç­‰å€¼æ›¿ä»£ï¼‰ã€‚", weight: 5 },
    { tier: "Cè³", name: "ğŸ‚ å£½æ˜Ÿæ‹›å¾…ç¦®", note: "ç¾å ´å…Œæ›ï¼ˆä»¥ç•¶æ—¥ä¾›æ‡‰ç‚ºæº–ï¼‰ã€‚", weight: 20 },
    { tier: "åƒåŠ ", name: "ğŸ›ï¸ ç’°ä¿è¢‹", note: "åŸºæœ¬çå“ï¼Œç¾å ´å…Œæ›ã€‚", weight: 54.5 }
  ];

  const tapBtn = document.getElementById("tapBtn");
  const resetBtn = document.getElementById("resetBtn");
  const fsBtn = document.getElementById("fsBtn");
  const resultBox = document.getElementById("resultBox");
  const tierTag = document.getElementById("tierTag");
  const prizeText = document.getElementById("prizeText");
  const prizeNote = document.getElementById("prizeNote");
  const timeText = document.getElementById("timeText");
  const deviceText = document.getElementById("deviceText");
  const machineImg = document.getElementById("machineImg");

  // å¯è‡ªè¡Œæ”¹ï¼šé¡¯ç¤ºåœ¨ç•«é¢ä¸Šçš„ã€Œè¨­å‚™åç¨±ã€
  const DEVICE_NAME = "æ«ƒæª¯å¹³æ¿";
  deviceText.textContent = DEVICE_NAME;

  function pickWeighted(items){
    const total = items.reduce((s,x)=>s + x.weight, 0);
    let r = Math.random() * total;
    for(const it of items){
      r -= it.weight;
      if(r <= 0) return it;
    }
    return items[items.length - 1];
  }

  function draw(){
    tapBtn.disabled = true;
    resultBox.style.display = "none";

    machineImg.classList.remove("wiggle");
    void machineImg.offsetWidth; // reflow
    machineImg.classList.add("wiggle");

    setTimeout(()=>{
      const p = pickWeighted(prizes);
      tierTag.textContent = p.tier;
      prizeText.textContent = p.name;
      prizeNote.textContent = p.note;
      timeText.textContent = new Date().toLocaleString("zh-Hant-TW");
      resultBox.style.display = "block";
      resultBox.classList.remove("pop");
      void resultBox.offsetWidth;
      resultBox.classList.add("pop");
    }, 700);
  }

  function reset(){
    resultBox.style.display = "none";
    tapBtn.disabled = false;
  }

  tapBtn.addEventListener("click", draw);
  resetBtn.addEventListener("click", reset);

  fsBtn.addEventListener("click", async ()=>{
    try{
      if(!document.fullscreenElement){
        await document.documentElement.requestFullscreen();
      }else{
        await document.exitFullscreen();
      }
    }catch(e){}
  });
</script>
</body>
</html>